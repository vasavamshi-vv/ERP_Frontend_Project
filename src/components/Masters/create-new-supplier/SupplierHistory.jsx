import React, { useState, useEffect } from "react";
import "./createNewSupplier.css";

export default function SupplierHistory() {
  const [ApiHistory, setApiHistory] = useState({});
  const [statusChange, setstatusChange] = useState([]);
  const [email, setEmail] = useState([]);
  const [print, setPrint] = useState([]);
  const historyFromApi = {
    status: [
      "- Save Draft by John (May 2, 10:00 AM)",
      "- Submitted by John (May 2, 10:00 AM)",
    ],
    email: ["- Emailed to customer@example.com by Alice (May 2, 10:20 AM)"],
    print: ["- PDF generated by John (May 2, 09:50 AM)"],
  };

  useEffect(() => {
    setApiHistory(historyFromApi);
  }, []);
  useEffect(() => {
    if (Object.keys(ApiHistory).length > 0) {
      setstatusChange(ApiHistory.status);
      setEmail(ApiHistory.email);
      setPrint(ApiHistory.print);
    }
  }, [ApiHistory]);

  return (
    <>
      <div className="createNewSupplier-history-container">
        <div className="createNewSupplier-statusChange-container">
          <div className="createNewSupplier-status-head">
            <svg
              className="createNewSupplier-status-logo"
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 24 24"
              fill="none"
            >
              <path
                d="M12 0C13.1016 0 14.1641 0.140625 15.1875 0.421875C16.2109 0.703125 17.1641 1.10938 18.0469 1.64062C18.9297 2.17188 19.7383 2.79688 20.4727 3.51562C21.207 4.23438 21.8359 5.04297 22.3594 5.94141C22.8828 6.83984 23.2852 7.79688 23.5664 8.8125C23.8477 9.82812 23.9922 10.8906 24 12C24 13.1016 23.8594 14.1641 23.5781 15.1875C23.2969 16.2109 22.8906 17.1641 22.3594 18.0469C21.8281 18.9297 21.2031 19.7383 20.4844 20.4727C19.7656 21.207 18.957 21.8359 18.0586 22.3594C17.1602 22.8828 16.2031 23.2852 15.1875 23.5664C14.1719 23.8477 13.1094 23.9922 12 24C10.8984 24 9.83594 23.8594 8.8125 23.5781C7.78906 23.2969 6.83594 22.8906 5.95312 22.3594C5.07031 21.8281 4.26172 21.2031 3.52734 20.4844C2.79297 19.7656 2.16406 18.957 1.64062 18.0586C1.11719 17.1602 0.714844 16.2031 0.433594 15.1875C0.152344 14.1719 0.0078125 13.1094 0 12C0 10.8984 0.140625 9.83594 0.421875 8.8125C0.703125 7.78906 1.10938 6.83594 1.64062 5.95312C2.17188 5.07031 2.79688 4.26172 3.51562 3.52734C4.23438 2.79297 5.04297 2.16406 5.94141 1.64062C6.83984 1.11719 7.79688 0.714844 8.8125 0.433594C9.82812 0.152344 10.8906 0.0078125 12 0ZM12 18.2578C12.6016 18.2578 13.1836 18.1758 13.7461 18.0117C14.3086 17.8477 14.8398 17.6055 15.3398 17.2852C15.8398 16.9648 16.2852 16.5898 16.6758 16.1602C17.0664 15.7305 17.3945 15.2383 17.6602 14.6836L15.832 13.8164C15.6523 14.1836 15.4297 14.5156 15.1641 14.8125C14.8984 15.1094 14.5977 15.3633 14.2617 15.5742C13.9258 15.7852 13.5664 15.9492 13.1836 16.0664C12.8008 16.1836 12.4062 16.2422 12 16.2422C11.4375 16.2422 10.9023 16.1328 10.3945 15.9141C9.88672 15.6953 9.42969 15.3906 9.02344 15H10.5V13.5H6V18H7.5V16.3359C8.08594 16.9453 8.76953 17.418 9.55078 17.7539C10.332 18.0898 11.1484 18.2578 12 18.2578ZM18 10.5V6H16.5V7.66406C15.9141 7.05469 15.2305 6.58203 14.4492 6.24609C13.668 5.91016 12.8516 5.74219 12 5.74219C11.3984 5.74219 10.8164 5.82422 10.2539 5.98828C9.69141 6.15234 9.16016 6.39453 8.66016 6.71484C8.16016 7.03516 7.71484 7.41016 7.32422 7.83984C6.93359 8.26953 6.60547 8.76172 6.33984 9.31641L8.16797 10.1836C8.33984 9.81641 8.55859 9.48438 8.82422 9.1875C9.08984 8.89062 9.39453 8.63672 9.73828 8.42578C10.082 8.21484 10.4414 8.05078 10.8164 7.93359C11.1914 7.81641 11.5859 7.75781 12 7.75781C12.5625 7.75781 13.0977 7.86719 13.6055 8.08594C14.1133 8.30469 14.5703 8.60938 14.9766 9H13.5V10.5H18Z"
                fill="#234E70"
              />
            </svg>
            <p>Status Changes :</p>
          </div>
          {statusChange.length > 0 ? (
            <div className="createNewSupplier-status-detailes">
              {statusChange.map((ele, ind) => (
                <nav key={ind}>
                  <svg
                    className="createNewSupplier-history-profile-logo"
                    xmlns="http://www.w3.org/2000/svg"
                    viewBox="0 0 24 24"
                    fill="none"
                  >
                    <rect width="24" height="24" rx="12" fill="#E0E4E7" />
                    <path
                      d="M7 17.33V16.6219C7 15.3072 7.52224 14.0464 8.45184 13.1168C9.38143 12.1872 10.6422 11.665 11.9569 11.665M11.9569 11.665C13.2715 11.665 14.5323 12.1872 15.4619 13.1168C16.3915 14.0464 16.9138 15.3072 16.9138 16.6219V17.33M11.9569 11.665C12.7081 11.665 13.4286 11.3666 13.9598 10.8354C14.491 10.3042 14.7894 9.58373 14.7894 8.8325C14.7894 8.08127 14.491 7.36082 13.9598 6.82962C13.4286 6.29842 12.7081 6 11.9569 6C11.2057 6 10.4852 6.29842 9.954 6.82962C9.4228 7.36082 9.12438 8.08127 9.12438 8.8325C9.12438 9.58373 9.4228 10.3042 9.954 10.8354C10.4852 11.3666 11.2057 11.665 11.9569 11.665Z"
                      stroke="#1A1A1A"
                      strokeWidth="1.5"
                      strokeLinecap="round"
                      strokeLinejoin="round"
                    />
                  </svg>
                  <p>{ele}</p>
                </nav>
              ))}
            </div>
          ) : (
            ""
          )}
        </div>
        <div className="createNewSupplier-statusChange-container">
          <div className="createNewSupplier-status-head">
            <svg
              className="createNewSupplier-history-mail-logo"
              xmlns="http://www.w3.org/2000/svg"
              width="20"
              height="16"
              viewBox="0 0 20 16"
              fill="none"
            >
              <path
                d="M2 16C1.45 16 0.979333 15.8043 0.588 15.413C0.196667 15.0217 0.000666667 14.5507 0 14V2C0 1.45 0.196 0.979333 0.588 0.588C0.98 0.196666 1.45067 0.000666667 2 0H18C18.55 0 19.021 0.196 19.413 0.588C19.805 0.98 20.0007 1.45067 20 2V14C20 14.55 19.8043 15.021 19.413 15.413C19.0217 15.805 18.5507 16.0007 18 16H2ZM10 8.825C10.0833 8.825 10.171 8.81233 10.263 8.787C10.355 8.76167 10.4423 8.72433 10.525 8.675L17.6 4.25C17.7333 4.16667 17.8333 4.06267 17.9 3.938C17.9667 3.81333 18 3.67567 18 3.525C18 3.19167 17.8583 2.94167 17.575 2.775C17.2917 2.60833 17 2.61667 16.7 2.8L10 7L3.3 2.8C3 2.61667 2.70833 2.61267 2.425 2.788C2.14167 2.96333 2 3.209 2 3.525C2 3.69167 2.03333 3.83767 2.1 3.963C2.16667 4.08833 2.26667 4.184 2.4 4.25L9.475 8.675C9.55833 8.725 9.646 8.76267 9.738 8.788C9.83 8.81333 9.91733 8.82567 10 8.825Z"
                fill="#234E70"
              />
            </svg>
            <p>Email / Print :</p>
          </div>
          <div className="createNewSupplier-status-detailes">
            {email.length > 0
              ? email.map((ele, ind) => (
                  <nav key={ind}>
                    <svg
                      className="createNewSupplier-history-profile-logo"
                      xmlns="http://www.w3.org/2000/svg"
                      viewBox="0 0 24 24"
                      fill="none"
                    >
                      <rect width="24" height="24" rx="12" fill="#E0E4E7" />
                      <path
                        d="M7 17.33V16.6219C7 15.3072 7.52224 14.0464 8.45184 13.1168C9.38143 12.1872 10.6422 11.665 11.9569 11.665M11.9569 11.665C13.2715 11.665 14.5323 12.1872 15.4619 13.1168C16.3915 14.0464 16.9138 15.3072 16.9138 16.6219V17.33M11.9569 11.665C12.7081 11.665 13.4286 11.3666 13.9598 10.8354C14.491 10.3042 14.7894 9.58373 14.7894 8.8325C14.7894 8.08127 14.491 7.36082 13.9598 6.82962C13.4286 6.29842 12.7081 6 11.9569 6C11.2057 6 10.4852 6.29842 9.954 6.82962C9.4228 7.36082 9.12438 8.08127 9.12438 8.8325C9.12438 9.58373 9.4228 10.3042 9.954 10.8354C10.4852 11.3666 11.2057 11.665 11.9569 11.665Z"
                        stroke="#1A1A1A"
                        strokeWidth="1.5"
                        strokeLinecap="round"
                        strokeLinejoin="round"
                      />
                    </svg>
                    <p>{ele}</p>
                  </nav>
                ))
              : ""}
            {print.length > 0
              ? print.map((ele, ind) => (
                  <nav key={ind}>
                    <svg
                      className="createNewSupplier-history-profile-logo"
                      xmlns="http://www.w3.org/2000/svg"
                      viewBox="0 0 24 24"
                      fill="none"
                    >
                      <rect width="24" height="24" rx="12" fill="#E0E4E7" />
                      <path
                        d="M7 17.33V16.6219C7 15.3072 7.52224 14.0464 8.45184 13.1168C9.38143 12.1872 10.6422 11.665 11.9569 11.665M11.9569 11.665C13.2715 11.665 14.5323 12.1872 15.4619 13.1168C16.3915 14.0464 16.9138 15.3072 16.9138 16.6219V17.33M11.9569 11.665C12.7081 11.665 13.4286 11.3666 13.9598 10.8354C14.491 10.3042 14.7894 9.58373 14.7894 8.8325C14.7894 8.08127 14.491 7.36082 13.9598 6.82962C13.4286 6.29842 12.7081 6 11.9569 6C11.2057 6 10.4852 6.29842 9.954 6.82962C9.4228 7.36082 9.12438 8.08127 9.12438 8.8325C9.12438 9.58373 9.4228 10.3042 9.954 10.8354C10.4852 11.3666 11.2057 11.665 11.9569 11.665Z"
                        stroke="#1A1A1A"
                        strokeWidth="1.5"
                        strokeLinecap="round"
                        strokeLinejoin="round"
                      />
                    </svg>
                    <p>{ele}</p>
                  </nav>
                ))
              : ""}
          </div>
        </div>
      </div>
    </>
  );
}
